##题目

[题目链接](http://acm.hdu.edu.cn/showproblem.php?pid=1011)

##类型

树状dp+01背包

##分析

进入一个结点拿brain至少需要一个人，即使这个结点没有bugs，但是如果一个结点没有bugs，并且还有子结点，那么可以把当前bugs拿了就走，可以不留下人在当前node奋斗，但至少要派一个人给子node，才能拿到子node的brain，如果当前结点是子node，那么这个人虽然不用战斗但是确实要浪费掉的。

不要把背包想成只有一个背包，而要把它想成确确实实存在的n+1个背包，背包的容量是n到0，计算的过程中大的背包要依赖小的背包来计算（并不是以前的把小背包转化成大背包，那样的理解会比较困难）

0、1的抉择，就是要防范于未然，就是人数为0的子node直接然它的价值贡献值为0，一个队员只能进入一个node一次，所以一个队员进入了子node，虽然他可能在子node中什么都不需要干就获得了brain，但是他不能重新进入父node继续战斗，因为不能reenter。在每个结点还是计算0到n个背包的价值，虽然0个背包对于父node毫无用处，但是对于自身的计算还是必须，所以每个结点还是要计算0到n个背包，然后通过子node的0到n个背包的性价比去构造父node的0到n个背包。
